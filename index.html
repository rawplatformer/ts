<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>a</title>
</head>
<body>
  <h2>Wa</h2>

  <p>Tap each button to test the method. Alerts show results or blocked access.</p>

  <!-- SAFE METHODS -->
  <button onclick="testMethod('getAppName')">getAppName()</button>
  <button onclick="testMethod('getVersionName')">getVersionName()</button>
  <button onclick="testMethod('getVersionCode')">getVersionCode()</button>
  <button onclick="testMethod('getLanguage')">getLanguage()</button>

  <!-- SENSITIVE METHODS (will show blocked) -->
  <button onclick="testMethod('getAccessToken')">getAccessToken()</button>
  <button onclick="testMethod('getAuthInfo')">getAuthInfo()</button>
  <button onclick="testMethod('getUserInfo')">getUserInfo()</button>
  <button onclick="testMethod('getDeviceId')">getDeviceId()</button>

  <!-- SOP TEST -->
  <button onclick="testSOP()">SOP Test (fetch local file)</button>

  <script>
    function testMethod(methodName) {
      try {
        if (typeof Android !== "undefined" && typeof Android[methodName] === "function") {
          var result = Android[methodName]();
          alert(methodName + "() returned:\n\n" + result);
        } else {
          alert(methodName + "() is NOT accessible (blocked by WebView or SOP).");
        }
      } catch (e) {
        alert(methodName + "() threw an error:\n" + e);
      }
    }

    function testSOP() {
      fetch("file:///android_asset/test.txt")
        .then(r => r.text())
        .then(t => alert("SOP BROKEN: " + t))
        .catch(e => alert("SOP enforced. Access blocked."));
    }
  </script>
</body>
</html>

